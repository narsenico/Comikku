<ion-view title="Options">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
  	<form name="myForm">
	  	<ion-list>
	  		<ion-item class="item option-info">Version: {{version || '?'}}</ion-item>
	  		<ion-item class="item" ng-click="deleteAllData()"><i class="icon ion-trash-a"></i> Delete all data</ion-item>
	  		<ion-item class="item" ng-click="repairData()"><i class="icon ion-hammer"></i> Repair data</ion-item>
	  		<ion-item class="item" ng-click="resetOptions()"><i class="icon ion-ios7-loop-strong"></i> Reset settings</ion-item>
	  		<ion-item class="item" ng-click="backup()"><i class="icon ion-ios7-download-outline"></i> Backup data</ion-item>
	  		<ion-item class="item" ng-click="restore()"><i class="icon ion-ios7-upload-outline"></i> Restore data<p>Last backup: {{lastBackup}}</p></ion-item>
				<div class="item item-divider">Settings</div>
			  <!-- <ion-item class="item item-toggle">
					Comics compact view
					<label class="toggle">
						<input type="checkbox" ng-model="userOptions.comicsCompactMode" ng-true-value="T" ng-false-value="F" ng-change="optionsChanged()">
						<div class="track">
						<div class="handle"></div>
						</div>
					</label>
				</ion-item> -->
				<ion-item class="item item-toggle">
					Search also in publisher
					<label class="toggle">
						<input type="checkbox" ng-model="userOptions.comicsSearchPublisher" ng-true-value="T" ng-false-value="F" ng-change="optionsChanged()">
						<div class="track">
						<div class="handle"></div>
						</div>
					</label>
				</ion-item>
				<ion-item class="item item-toggle">
					Auto fill release number
					<label class="toggle">
						<input type="checkbox" ng-model="userOptions.autoFillReleaseNumber" ng-true-value="T" ng-false-value="F" ng-change="optionsChanged()">
						<div class="track">
						<div class="handle"></div>
						</div>
					</label>
				</ion-item>
				<ion-item class="item" ng-click="chooseWeekStart()">
					Week starting day
					<p ng-show="userOptions.weekStartMonday == 'T'">Monday</p>
					<p ng-show="userOptions.weekStartMonday != 'T'">Sunday</p>
				</ion-item>
				<!-- <ion-item class="item-input">
					<span class="input-label">Reminder time</span>
					<input type="time">
				</ion-item> -->
	  		<div class="item item-divider">Debug</div>
			  <ion-item class="item item-toggle">
					Active debug mode
					<label class="toggle">
						<input type="checkbox" ng-model="userOptions.debugMode" ng-true-value="T" ng-false-value="F" ng-change="optionsChanged()">
						<div class="track">
						<div class="handle"></div>
						</div>
					</label>
				</ion-item>
	  		<ion-item class="item" ng-click="fakeEntries()" ng-show="userOptions.debugMode=='T'"><i class="icon ion-arrow-graph-down-right"></i> Create fake entries</ion-item>
	  		<ion-item class="item" ng-click="test($event)" ng-show="userOptions.debugMode=='T'"><i class="icon ion-arrow-graph-down-right"></i> Test {{testresult}}</ion-item>
	  		<ion-item class="item" ng-click="switchUser()" ng-show="userOptions.debugMode=='T'"><i class="icon ion-arrow-graph-down-right"></i> Switch user <p>Current: {{currentUser}}</p></ion-item>
	  	</ion-list>
  	</form>
  </ion-content>
</ion-view>

<script id="weekStartMonday.html" type="text/ng-template">
	<ion-list>
		<ion-radio ng-model="userOptions.weekStartMonday" ng-value="'F'" ng-change="weekStartPopup.close('F')">Sunday</ion-radio>
		<ion-radio ng-model="userOptions.weekStartMonday" ng-value="'T'" ng-change="weekStartPopup.close('T')">Monday</ion-radio>
	</ion-list>
</script>
