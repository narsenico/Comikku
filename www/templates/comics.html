<ion-view title="Comics ({{comics.length}}/{{totComics}})">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-icon icon ion-plus-round" ng-click="addComicsEntry()"></button>
  </ion-nav-buttons>
  <ion-header-bar class="bar bar-subheader item-input-inset">
    <label class="item-input-wrapper">
      <i class="icon ion-ios7-search placeholder-icon"></i>
      <input type="search" placeholder="Filter comics..." ng-model="search">
    </label>
    <button ng-if="search.length"
      class="button button-icon ion-android-close clear-button rmm-search-button"
      ng-click="clearSearch()">
    </button>
  </ion-header-bar>
  <ion-content class="has-header" has-bouncing="false">
    <ion-list can-swipe="true">
        <ion-item bindonce class="item item-comics" on-hold="toggleMultiSelectionMode()" 
          ng-repeat="item in comics track by item.id" 
          href="#/app/releases/{{item.id}}">

        <div>
          <span class="comics-title"><i class="icon ion-ios7-filing-outline" bo-if="item.reserved=='T'"></i> {{item.name}}</span>
          <span class="comics-subtitle">{{item.publisher}}</span>
          <span class="comics-notes">{{getComicsInfo(item)}}</span>
          <span class="comics-notes" bo-if="debugMode">id {{item.id}} last upd {{item.lastUpdate}} best {{item.bestRelease.date}}</span>
        </div>

        <best-release comics="item" bo-if="item.bestRelease.number"></best-release>

        <ion-option-button class="button button-energized icon ion-plus-round"
                           ng-click="showAddRelease(item)">
          Add
        </ion-option-button>
        <ion-option-button class="button button-positive icon ion-edit"
                           ng-click="editComicsEntry(item)">
          Edit
        </ion-option-button>
        <ion-option-button class="button button-assertive icon ion-trash-a"
                           ng-click="removeComicsEntry(item)">
          Del
        </ion-option-button>
      </ion-item>
    </ion-list>
    <ion-infinite-scroll
        ng-if="moreDataCanBeLoaded()"
        icon="ion-loading-c"
        on-infinite="loadMore()"
        distance="1%">
      </ion-infinite-scroll>
  </ion-content>
</ion-view>
